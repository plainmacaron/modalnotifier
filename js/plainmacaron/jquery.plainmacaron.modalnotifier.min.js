/*!
 * jQuery Modalnotifier plug-in v1.0.0 - 2016-05-17T08:20Z
 * http://PlainMacaron.com/Controls/, http://PlainMacaron.com/Download/
 *
 * This customizable jQuery plug-in allows a web developer to specify a target that will 
 * trigger a specified event in order to display a modal dialog window.
 * Copyright (C) 2016 Plain Macaron
 *
 * Modalnotifier is released under the GNU General Public License, Version 2 (or later).
 *
 * Modalnotifier is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software Foundation;
 * either version 2 of the License, or (at your option) any later version.
 *
 * Modalnotifier is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 * PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with this program;
 * if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 * Boston, MA  02110-1301, USA.
 * http://PlainMacaron.com/Permission/
 *
 * Please, contact us if you have any questions or feedback about this plug-in.
 * http://PlainMacaron.com/Contact/, support@plainmacaron.com
 *
 * This plug-in has the following dependencies: jQuery v1.5 or higher and jQuery UI v1.7 or 
 * higher.
 *
 * This plug-in was developed by Ryan E. Anderson.
 *
 */

(function(c,b,a,d){c.widget("plainmacaron.modalnotifier",{defaultElement:"<div>",options:{action:"../php/track_event.php",ajax:null,backgroundColor:"#acddea",buttonContainerClass:"ui-notification-button-container",buttonContainerIdentifier:"notification-button-container",buttonContainerWidth:"100%",closeButtonBackgroundColor:"transparent",closeButtonBorderColor:"transparent",closeButtonBorderStyle:"dotted",closeButtonBorderWidth:"1px",closeButtonClass:"ui-notification-close-button",closeButtonColor:"#283437",closeButtonFontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",closeButtonFontSize:"1.0em",closeButtonIdentifier:"notification-close-button",closeButtonLink:"#ui-modal-notifier",closeButtonMouseenterBorderColor:"#283437",closeButtonMouseenterBorderStyle:"dotted",closeButtonMouseenterBorderWidth:"1px",closeButtonMouseenterTextDecoration:"none",closeButtonTextDecoration:"none",closeButtonTitle:"Close the notification.",closeButtonValue:"Close",color:"#283437",containerClass:"ui-modal-notifier-container",containerIdentifier:"ui-modal-notifier",containerWidth:null,displayStyle:1,failureCallback:c.noop,failureText:"An error occurred.",iconClass:"ui-notification-close-icon",iconHeight:"16px",iconWidth:"16px",imagePath:"../png/Close-Icon.png",maskClass:"ui-notification-mask",maskIdentifier:"notification-mask",method:"POST",notificationText:"This is the modal notifier control.",notificationTextClass:"ui-notification-message",notificationTextFontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",notificationTextIdentifier:"notification-message",notificationTextLineHeight:"1.4em",successCallback:c.noop,targetClass:null,targetEvent:null,targetIdentifier:null,targetLocationIdentifier:null,targetStructure:null},version:"1.0.0",_create:function(){var o;var g;var f;var j;var e;var k;var r;var p;var l;e={};p=this;j=p.element;r=p.options;f=c("<div />");o=c("<div />");g=c("<a />");k=c("<p />");f.attr("id",r.containerIdentifier).addClass(r.containerClass).css({backgroundColor:r.backgroundColor,color:r.color,width:r.containerWidth});o.attr("id",r.buttonContainerIdentifier).addClass(r.buttonContainerClass).css({width:r.buttonContainerWidth});g.attr("id",r.closeButtonIdentifier).attr("href",r.closeButtonLink).attr("title",r.closeButtonTitle).addClass(r.closeButtonClass).css({borderColor:r.closeButtonBorderColor,borderStyle:r.closeButtonBorderStyle,borderWidth:r.closeButtonBorderWidth,textDecoration:r.closeButtonTextDecoration});if(r.imagePath!==null&&r.imagePath!==""){var n;n=c("<img />");n.attr("src",r.imagePath).attr("alt","Close the notifier.").addClass(r.iconClass).css({width:r.iconWidth,height:r.iconHeight});n.appendTo(g)}else{g.css({backgroundColor:r.closeButtonBackgroundColor,color:r.closeButtonColor,fontFamily:r.closeButtonFontFamily,fontSize:r.closeButtonFontSize}).text(r.closeButtonValue)}k.attr("id",r.notificationTextIdentifier).addClass(r.notificationTextClass).css({fontFamily:r.notificationTextFontFamily,lineHeight:r.notificationTextLineHeight}).text(r.notificationText);if(r.displayStyle!==null){if(r.displayStyle===1||r.displayStyle===2||r.displayStyle===3){o.appendTo(f);g.appendTo(o);k.appendTo(f)}else{k.appendTo(f);o.appendTo(f);g.appendTo(o)}if(r.displayStyle===4||r.displayStyle===3){o.css({textAlign:"left"})}else{if(r.displayStyle===5||r.displayStyle===2){o.css({textAlign:"center"})}else{o.css({textAlign:"right"})}}}p._on(g,{click:p._closeButtonClickEventHandler,mouseleave:p._closeButtonMouseleaveEventHandler,mouseenter:p._closeButtonMouseenterEventHandler});if(r.targetIdentifier!==null&&r.targetLocationIdentifier!==null&&r.targetStructure!==null){var h;var m;var i;var q;h=c(c.parseHTML(r.targetStructure));m=h.first();i=m.attr("id");if(typeof i==="undefined"||i===""){m.attr("id",r.targetIdentifier)}if(r.targetClass!==null&&!m.hasClass(r.targetClass)){m.addClass(r.targetClass)}q=c("#"+r.targetLocationIdentifier);h.appendTo(q)}if(r.targetEvent!==null&&r.targetIdentifier!==null){e[r.targetEvent]=p._targetEventHandler;p._on(c("#"+r.targetIdentifier),e)}f.prependTo(j);l=c("body").find(j)[0];if(typeof l==="undefined"&&j.prop("tagName")!=="BODY"){j.prependTo("body")}},_destroy:function(){var e;var h;var i;var g;var f;i={};f=this;h=f.element;g=f.options;e=h.children("#"+g.containerIdentifier);i[g.targetEvent]=f._targetEventHandler;f._off(c("#"+g.closeButtonIdentifier),"click");f._off(c("#"+g.closeButtonIdentifier),"mouseenter");f._off(c("#"+g.closeButtonIdentifier),"mouseleave");f._off(c("#"+g.targetIdentifier),i);e.next().remove();h.children(e).remove()},_closeButtonClickEventHandler:function(j){var f;var i;var e;var h;var g;g=this;i=g.element;h=g.options;f=i.children("#"+h.containerIdentifier);e=i.children("#"+h.maskIdentifier);e.fadeOut("fast",function(){c(this).remove();j.preventDefault()});f.fadeOut("fast")},_closeButtonMouseenterEventHandler:function(h){var g;var f;var e;e=this;f=e.options;g=c("#"+f.closeButtonIdentifier);g.css({borderColor:f.closeButtonMouseenterBorderColor,borderStyle:f.closeButtonMouseenterBorderStyle,borderWidth:f.closeButtonMouseenterBorderWidth,textDecoration:f.closeButtonMouseenterTextDecoration})},_closeButtonMouseleaveEventHandler:function(h){var g;var f;var e;e=this;f=e.options;g=c("#"+f.closeButtonIdentifier);g.css({borderColor:f.closeButtonBorderColor,borderStyle:f.closeButtonBorderStyle,borderWidth:f.closeButtonBorderWidth,textDecoration:f.closeButtonTextDecoration})},_failureCallback:function(e,f){return function(k,n,m){if(typeof f==="function"&&f!=c.noop){return f(e,k,n,m)}else{var j;var i;var g;var l;var h;g=c("<div />");j=e.element;h=e.options;l=j.children("#"+h.containerIdentifier);i=l.children("#"+h.notificationTextIdentifier);i.text(h.failureText+" The following error message was returned: "+m.message);g.attr("id",h.maskIdentifier).addClass(h.maskClass);j.prepend(g);g.fadeIn("fast");l.fadeIn("fast")}}},_setOption:function(z,t){var o;var g;var h;var q;q=this;g=q.element;h=q.options;o=g.children("#"+h.containerIdentifier);switch(z){case"backgroundColor":o.css({backgroundColor:t});break;case"buttonContainerClass":o.find("div").addClass(t);break;case"buttonContainerIdentifier":o.find("div").attr("id",t);break;case"buttonContainerWidth":o.find("div").css({width:t});break;case"closeButtonBackgroundColor":if(h.imagePath===null||h.imagePath===""){o.find("div").find("a").css({backgroundColor:t})}break;case"closeButtonBorderColor":o.find("div").find("a").css({borderColor:t});break;case"closeButtonBorderStyle":o.find("div").find("a").css({borderStyle:t});break;case"closeButtonBorderWidth":o.find("div").find("a").css({borderWidth:t});break;case"closeButtonClass":o.find("div").find("a").addClass(t);break;case"closeButtonColor":if(h.imagePath===null||h.imagePath===""){o.find("div").find("a").css({color:t})}break;case"closeButtonFontFamily":if(h.imagePath===null||h.imagePath===""){o.find("div").find("a").css({fontFamily:t})}break;case"closeButtonFontSize":if(h.imagePath===null||h.imagePath===""){o.find("div").find("a").css({fontSize:t})}break;case"closeButtonIdentifier":o.find("div").find("a").attr("id",t);break;case"closeButtonLink":o.find("div").find("a").attr("href",t);break;case"closeButtonMouseenterBorderColor":o.find("div").find("a").css({borderColor:t});break;case"closeButtonMouseenterBorderStyle":o.find("div").find("a").css({borderStyle:t});break;case"closeButtonMouseenterBorderWidth":o.find("div").find("a").css({borderWidth:t});break;case"closeButtonMouseenterTextDecoration":o.find("div").find("a").css({textDecoration:t});break;case"closeButtonTextDecoration":o.find("div").find("a").css({textDecoration:t});break;case"closeButtonTitle":o.find("div").find("a").attr("title",t);break;case"closeButtonValue":if(h.imagePath===null||h.imagePath===""){o.find("div").find("a").text(t)}break;case"color":o.css({color:t});break;case"containerClass":o.removeClass().addClass(t);break;case"containerIdentifier":o.attr("id",t);break;case"containerWidth":o.css({width:t});break;case"displayStyle":var v;var f;var k;v=c("#"+h.buttonContainerIdentifier).detach();f=c("#"+h.closeButtonIdentifier).detach();k=o.children("#"+h.notificationTextIdentifier).detach();if(t!==null){if(t===1||t===2||t===3){v.appendTo(o);f.appendTo(v);k.appendTo(o)}else{k.appendTo(o);v.appendTo(o);f.appendTo(v)}if(t===4||t===3){v.css({textAlign:"left"})}else{if(t===5||t===2){v.css({textAlign:"center"})}else{v.css({textAlign:"right"})}}}break;case"failureText":o.find("p").text(t);break;case"iconClass":o.find("div").find("a").find("img").removeClass().addClass(t);break;case"iconHeight":o.find("div").find("a").find("img").css({height:t});break;case"iconWidth":o.find("div").find("a").find("img").css({width:t});break;case"imagePath":o.find("div").find("a").find("img").attr("src",t);break;case"notificationText":o.find("p").text(t);break;case"notificationTextClass":o.find("p").removeClass().addClass(t);break;case"notificationTextFontFamily":o.find("p").css({fontFamily:t});break;case"notificationTextIdentifier":o.find("p").attr("id",t);break;case"notificationTextLineHeight":o.find("p").css({lineHeight:t});break;case"targetClass":if(t!==null&&h.targetIdentifier!==null){var j;j=c("#"+h.targetIdentifier);j.addClass(t)}break;case"targetEvent":if(t!==null&&h.targetIdentifier!==null){var u;u={};q._off(c("#"+h.targetIdentifier),u[h.targetEvent]);u[t]=q._targetEventHandler;q._on(c("#"+h.targetIdentifier),u)}break;case"targetIdentifier":if(h.targetEvent!==null&&h.targetIdentifier!==null&&t!==null){var m;var s;m={};s=c("#"+h.targetIdentifier);q._off(c("#"+h.targetIdentifier),m[h.targetEvent]);s.attr("id",t);m[h.targetEvent]=q._targetEventHandler;q._on(c("#"+t),m)}break;case"targetLocationIdentifier":if(h.targetEvent!==null&&h.targetIdentifier!==null&&t!==null&&h.targetStructure!==null){var l;var e;var p;var n;var w;e={};q._off(c("#"+h.targetIdentifier),e);c("#"+h.targetIdentifier).removeAttr("id");w=c("#"+t);l=c(c.parseHTML(h.targetStructure));p=l.first();n=p.attr("id");if(typeof n==="undefined"||n===""){p.attr("id",h.targetIdentifier)}if(h.targetClass!==null&&!p.hasClass(h.targetClass)){p.addClass(h.targetClass)}l.appendTo(w);e[h.targetEvent]=q._targetEventHandler;q._on(c("#"+h.targetIdentifier),e)}break;case"targetStructure":if(h.targetIdentifier!==null&&t!==null){var y;var i;var r;var x;y=c("#"+h.targetIdentifier);i=c(t);y.empty();r=y.first();x=r.attr("id");if(typeof x==="undefined"||x===""){r.attr("id",h.targetIdentifier)}if(h.targetClass!==null&&!r.hasClass(h.targetClass)){r.addClass(h.targetClass)}i.appendTo(y)}break;default:break}c.Widget.prototype._setOption.apply(q,arguments)},_successCallback:function(e,f){return function(k,m,j){if(typeof f==="function"&&f!=c.noop){return f(e,k,m,j)}else{var i;var g;var l;var h;g=c("<div />");i=e.element;h=e.options;l=i.children("#"+h.containerIdentifier);g.attr("id",h.maskIdentifier).addClass(h.maskClass);i.prepend(g);g.fadeIn("fast");l.fadeIn("fast")}}},_targetEventHandler:function(j){var k;var l;var e;var g;var i;var f;if(j.type==="submit"){j.preventDefault()}f=this;g=f.options;k=g.ajax;if(k===null){var h;h={eventName:j.type,targetName:g.targetIdentifier};k={type:g.method,url:g.action,data:h,dataType:"json"}}i=c.ajax(k);l=f._failureCallback;e=f._successCallback;i.done(e(f,g.successCallback)).fail(l(f,g.failureCallback))},destroy:function(){var e;e=this;e._destroy()}})})(jQuery,window,document);